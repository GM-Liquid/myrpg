/* =========================================================
 * myrpg.scss  (v2025‑06‑06 — портрет 180×240 + «короткая» строка навыков)
 * ---------------------------------------------------------
 *  Файл самодостаточен (без @import).
 *
 *  Изменения этого коммита:
 *    • Портрет персонажа теперь фиксированный 180×240 px.
 *    • Строка навыка: grid 40 px (abbr) / auto (название) / 60 px (value).
 * ---------------------------------------------------------
 *   0) Переменные, mini‑reset, базовая типографика, скроллбар
 *   1) Утилиты (flex, grid‑Ncol, колонки, limited‑height)
 *   2) Компоненты (sheet‑box, вкладки, атрибуты, навыки, бонусы)
 *   3) Исправления‑patches (узкие inputs, центр атрибутов, portrait, skills‑row)
 * =========================================================*/

@use "sass:math";

// ---------------------------------------------------------
// 0. Переменные цвета / шрифтов
// ---------------------------------------------------------
$clr-bg-main: #d2d2c9;
$clr-panel:   #cecebf;
$clr-text:    #1b1210;
$clr-accent:  #6d031c;
$font-main:   "Roboto", sans-serif;

:root {
  --bg-main:   #{$clr-bg-main};
  --bg-panel:  #{$clr-panel};
  --text-main: #{$clr-text};
  --accent:    #{$clr-accent};
}

// ---------------------------------------------------------
// 1. Mini‑reset & базовая типографика
// ---------------------------------------------------------
*,*::before,*::after { box-sizing: border-box; }
html,body { margin:0; padding:0; }
button,input,select,textarea { font: inherit; }

body { font-family: $font-main; color: var(--text-main); }
.window-app { background: var(--bg-panel); }

/* скроллбар (Chromium) */
::-webkit-scrollbar { width:8px; height:8px; }
::-webkit-scrollbar-thumb { background:var(--accent); border-radius:4px; }

// ---------------------------------------------------------
// 2. Утилитные классы
// ---------------------------------------------------------
.flex-center { display:flex; align-items:center; justify-content:center; }
.limited-height { max-height:400px; overflow-y:auto; }

// grid‑Ncol (2‑12)
@for $n from 2 through 12 {
  .grid-#{$n}col {
    display:grid;
    grid-template-columns: repeat(#{$n}, 1fr);
    gap:0.5rem;
  }
}

// колонки 25/33/50 %
.col-25 { flex:0 0 25%; max-width:25%; }
.col-33 { flex:0 0 33.333%; max-width:33.333%; }
.col-50 { flex:0 0 50%; max-width:50%; }

// ---------------------------------------------------------
// 3. Компоненты листа
// ---------------------------------------------------------
.sheet-box {
  padding:0.5rem; border:1px solid var(--text-main); border-radius:4px; background:var(--bg-main);
}

// ---- кнопки вкладок (правый бордюр)
.sheet-tabs-hex {
  position:absolute; right:-190px; top:1rem; display:flex; flex-direction:column; gap:0.5rem;
  .hex-button { @extend .sheet-box; width:180px; text-align:center; cursor:pointer; }
  .is-active { background:var(--accent); color:#fff; }
}

// ---- атрибуты сверху
.attribute-core { margin:0 auto 0.5rem; display:grid; grid-template-columns:repeat(4,1fr); gap:0.25rem; }
.attribute-core input { width:100%; text-align:center; }

// ---- блок навыков и временных бонусов
.skills-wrap { display:flex; gap:1rem; }

.skills-block, .temp-bonuses-block {
  @extend .sheet-box; flex:1 1 0;
}

// ---------------------------------------------------------
// 4. Исправления / патчи по фидбеку
// ---------------------------------------------------------

/* 4.1 Узкий numeric‑input навыков */
.skills-block input[type="number"] { width:60px; max-width:60px; text-align:center; }

/* 4.2 Центрирование атрибутов */
.top-attributes { display:flex; justify-content:center; gap:0.5rem; }

/* 4.3 Фиксированный размер портрета 180×240 */
.profile img,
.profile-img {
  width:180px; height:240px; object-fit:cover; border-radius:4px;
}

.skill-row {
  /* заменяем возможные устаревшие flex-правила */
  display: grid !important;
  grid-template-columns: 40px 1fr 60px; /* abbr | name | value */
  align-items: center;                  /* вертикальное выравнивание */
  column-gap: 0.25rem;
}

/* точечные размеры ячеек (если нужно переопределить) */
.skill-ability-abbr   { width: 40px; text-align: center; }
.skill-name           { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.skill-value input    { width: 60px !important; text-align: center; }

/* 2. Центрируем все h3 в листе персонажа */
.sheet-box > h3 { text-align: center !important; margin: 0.25rem 0 0.5rem; }

/* 3. Центрируем подписи и значения «Ключевой информации» */
.resource-label,
.resource-content,
.resource-content input { text-align: center !important; }