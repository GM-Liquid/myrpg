@use "sass:math";

/* =========================================================
 * myrpg.scss  (v2025‑06‑07)
 * ---------------------------------------------------------
 *  Полный стиль листа персонажа с сохранённым функционалом
 *  + патч «характеристики с рамкой & центрирование».
 * --------------------------------------------------------- */

/* 0. Цвета / шрифты (CSS‑vars) */
$clr-bg-main: #d2d2c9;
$clr-panel:   #cecebf;
$clr-text:    #1b1210;
$clr-accent:  #6d031c;
$font-main:   'Roboto', sans-serif;

:root {
  --bg-main:   #{$clr-bg-main};
  --bg-panel:  #{$clr-panel};
  --text-main: #{$clr-text};
  --accent:    #{$clr-accent};
}

/* 1. Mini‑reset & базовая типографика */
*,*::before,*::after { box-sizing: border-box; }
html,body { margin:0; padding:0; }
button,input,select,textarea { font: inherit; }

body { font-family: $font-main; color: var(--text-main); }
.window-app { background: var(--bg-panel); }

/* скроллбар (Chromium) */
::-webkit-scrollbar { width:8px; height:8px; }
::-webkit-scrollbar-thumb { background:var(--accent); border-radius:4px; }

/* 2. Утилиты */
.flex-center   { display:flex; align-items:center; justify-content:center; }
.limited-height{ max-height:400px; overflow-y:auto; }

/* grid‑Ncol (2‑12) */
@for $n from 2 through 12 {
  .grid-#{$n}col {
    display:grid;
    grid-template-columns: repeat(#{$n}, 1fr);
    gap:0.5rem;
  }
}

/* колонки 25/33/50 % */
.col-25 { flex:0 0 25%; max-width:25%; }
.col-33 { flex:0 0 33.333%; max-width:33.333%; }
.col-50 { flex:0 0 50%; max-width:50%; }

/* 3. Блоки листа ---------------------------------------------------- */
.sheet-box {
  padding:0.5rem;
  border:1px solid var(--text-main);
  border-radius:4px;
  background:var(--bg-main);
}

/* ---- вкладки (шестиугольные) */
.sheet-tabs-hex {
  position:absolute; right:-190px; top:1rem;
  display:flex; flex-direction:column; gap:0.5rem;

  .hex-button {
    @extend .sheet-box;
    width:180px;
    text-align:center;
    cursor:pointer;
    clip-path: polygon(25% 0,75% 0,100% 50%,75% 100%,25% 100%,0 50%);
    transition:filter .2s;

    &:hover { filter:brightness(1.1); }
  }

  .is-active {
    background:var(--accent);
    color:#fff;
  }
}

/* ---- атрибуты (большая таблица) */
.top-attributes {
  display:flex;
  justify-content:center;
  margin-bottom:0.5rem;
  gap:0.5rem;
}

/* сама таблица */
.attributes-table {
  @extend .sheet-box;
  border-width:2px;
  border-radius:8px;
  margin:0 auto;
  text-align:center;
}

/* ширина и высота ячеек + центрирование */
.attributes-table th,
.attributes-table td {
  width:120px;
  height:60px;
  text-align:center;
  vertical-align:middle;
}

.attributes-table input[type=number] {
  width:100%;
  text-align:center;
}

/* ---- сетка 4×? ядро атрибутов (обратное совмест.) */
.attribute-core {
  margin:0 auto 0.5rem;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:0.25rem;

  input { width:100%; text-align:center; }
}

/* ---- навыки и временные бонусы */
.skills-wrap { display:flex; gap:1rem; }

.skills-block,
.temp-bonuses-block {
  @extend .sheet-box;
  flex:1 1 0;
}

.skills-block input[type=number] {
  width:60px; max-width:60px;
  text-align:center;
}

/* строка навыка */
.skill-row {
  display:grid !important;
  grid-template-columns:40px 1fr 60px;
  align-items:center;
  column-gap:0.25rem;
}

.skill-ability-abbr { width:40px; text-align:center; }
.skill-name          { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.skill-value input   { width:60px !important; text-align:center; }

/* кликается только название */
.skill-ability-abbr,
.skill-value { pointer-events:none; }
.skill-name.rollable { pointer-events:auto; }

/* ---- ресурсы */
.resources .resource.flex-group-center {
  flex-direction:column !important;
  align-items:center   !important;
  justify-content:center !important;
}

.resource-label,
.resource-content,
.resource-content input { text-align:center !important; }

/* ---- заголовки */
.sheet-box > h3 {
  text-align:center !important;
  margin:0.25rem 0 0.5rem;
}

/* ---- портрет */
.profile img,
.profile-img {
  width:180px;
  height:240px;
  object-fit:cover;
  border-radius:4px;
}

/* 5. Конец файла */
